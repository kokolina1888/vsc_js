<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>bubbling events</title>
</head>
<body onload="onBodyLoad()">
    <div>
        <section>
            <div>
                <div>
                    <a class="button" href="#">Click me!</a>
                </div>
            </div>
        </section>
    </div>
	<script type="text/javascript">
		function onBubbleClick(){
			console.log('Bubbling ' + this.nodeName);
		}

		function getFirstElementChild(element) {
            if (!element) {
                return;
            }

            var child = element.firstChild;
            while (child && child.nodeType !== Node.ELEMENT_NODE) {
                child = child.nextSibling;
            }

            return child;
        }

		 function onBodyLoad() {
            var element = document.body;
            while (element) {
                element.addEventListener("click", onBubbleClick, false);
                
                element = getFirstElementChild(element);
            }
        }
	</script>
</body>
</html>